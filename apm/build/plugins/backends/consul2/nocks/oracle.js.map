{"version":3,"sources":["../../../../../src/plugins/backends/consul2/nocks/oracle.js"],"names":["nockConsulAPI","host","port","baseUri","get","times","reply","ID","Service","Tags","Meta","Port","Address","Weights","Passing","Warning","EnableTagOverride","put"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,gBAAgB,eAAhBA,aAAgB,CAAOC,IAAP,EAAaC,IAAb,EAAsB;AAC1C,MAAMC,sBAAoBF,IAApB,SAA4BC,IAAlC;AACA,sBAAKC,OAAL,EACGC,GADH,CACO,oBADP,EAEGC,KAFH,CAES,CAFT,EAGGC,KAHH,CAGS,GAHT,EAGc;AACV,qBAAiB;AACfC,UAAI,eADW;AAEfC,eAAS,eAFM;AAGfC,YAAM,EAHS;AAIfC,YAAM,EAJS;AAKfC,YAAM,CALS;AAMfC,eAAS,EANM;AAOfC,eAAS;AACPC,iBAAS,CADF;AAEPC,iBAAS;AAFF,OAPM;AAWfC,yBAAmB;AAXJ;AADP,GAHd;AAkBA,sBAAKb,OAAL,EACGc,GADH,CACO,4BADP,EAEGX,KAFH,CAES,GAFT,EAEc,EAFd;AAGA,sBAAKH,OAAL,EACGC,GADH,CACO,kBADP,EAEGC,KAFH,CAES,CAFT,EAGGC,KAHH,CAGS,GAHT,EAGc,EAHd;AAIA,sBAAKH,OAAL,EACGc,GADH,CACO,0BADP,EAEGZ,KAFH,CAES,CAFT,EAGGC,KAHH,CAGS,GAHT,EAGc,EAHd;AAID,CA/BD;;kBAiCeN,a","file":"oracle.js","sourcesContent":["import nock from 'nock';\n\nconst nockConsulAPI = async (host, port) => {\n  const baseUri = `http://${host}:${port}`;\n  nock(baseUri)\n    .get('/v1/agent/services')\n    .times(2)\n    .reply(200, {\n      'terra-backend': {\n        ID: 'terra-backend',\n        Service: 'terra-backend',\n        Tags: [],\n        Meta: {},\n        Port: 0,\n        Address: '',\n        Weights: {\n          Passing: 1,\n          Warning: 1,\n        },\n        EnableTagOverride: false,\n      },\n    });\n  nock(baseUri)\n    .put('/v1/agent/service/register')\n    .reply(200, '');\n  nock(baseUri)\n    .get('/v1/agent/checks')\n    .times(3)\n    .reply(200, {});\n  nock(baseUri)\n    .put('/v1/agent/check/register')\n    .times(2)\n    .reply(200, '');\n};\n\nexport default nockConsulAPI;\n"]}