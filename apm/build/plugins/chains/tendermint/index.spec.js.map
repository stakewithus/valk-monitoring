{"version":3,"sources":["../../../../src/plugins/chains/tendermint/index.spec.js"],"names":["describe","before","validatorSettings","project","network","validators","name","address","it","result","Tendermint","getNodeState","assert","equal","meta","id","block_height","catching_up","deepEqual","validator_commits","commit","block_time","total_peers","inbound_peers","outbound_peers","property"],"mappings":";;AAAA;;AACA;;;;AACA;;;;;;AAEAA,SAAS,2BAAT,EAAsC,YAAM;AAC1CC,SAAO,kBAAY;AACjB,UAAM,qBAAkB,WAAlB,EAA+B,IAA/B,CAAN;AACD,GAFD;AAGAD,WAAS,4BAAT,EAAuC,YAAM;AAC3C,QAAME,oBAAoB,CAAC;AACzBC,eAAS,UADgB;AAEzBC,eAAS,mBAFgB;AAGzBC,kBAAY,CAAC;AACXC,cAAM,MADK;AAEXC,iBAAS;AAFE,OAAD;AAHa,KAAD,CAA1B;AAQAC,OAAG,sDAAH,EAA2D,kBAAY;AACrE,UAAMC,SAAS,MAAMC,gBAAWC,YAAX,CAAwB,WAAxB,EAAqC,IAArC,EAA2C,UAA3C,EAAuD,mBAAvD,EAA4E,IAA5E,EAAkFT,iBAAlF,CAArB;AACAU,mBAAOC,KAAP,CAAaJ,OAAOK,IAAP,CAAYC,EAAzB,EAA6B,0CAA7B;AACAH,mBAAOC,KAAP,CAAaJ,OAAOO,YAApB,EAAkC,MAAlC;AACAJ,mBAAOC,KAAP,CAAaJ,OAAOQ,WAApB,EAAiC,KAAjC;AACAL,mBAAOM,SAAP,CAAiBT,OAAOU,iBAAxB,EAA2C,CAAC;AAC1Cb,cAAM,MADoC;AAE1CC,iBAAS,0CAFiC;AAG1Ca,gBAAQ;AAHkC,OAAD,CAA3C;AAKAR,mBAAOC,KAAP,CAAaJ,OAAOY,UAApB,EAAgC,UAAhC;AACAT,mBAAOC,KAAP,CAAaJ,OAAOa,WAApB,EAAiC,CAAjC;AACAV,mBAAOC,KAAP,CAAaJ,OAAOc,aAApB,EAAmC,CAAnC;AACAX,mBAAOC,KAAP,CAAaJ,OAAOe,cAApB,EAAoC,CAApC;AACAZ,mBAAOa,QAAP,CAAgBhB,MAAhB,EAAwB,wBAAxB;AACD,KAfD;AAgBD,GAzBD;AA0BD,CA9BD","file":"index.spec.js","sourcesContent":["import { assert } from 'chai';\nimport Tendermint from './index';\nimport NockTendermintApi from './nocks';\n\ndescribe('# Tendermint Chain Plugin', () => {\n  before(async () => {\n    await NockTendermintApi('127.0.0.1', 8888);\n  });\n  describe('# Tendermint RPC Node Info', () => {\n    const validatorSettings = [{\n      project: 'bcl-kava',\n      network: 'kava-testnet-2000',\n      validators: [{\n        name: 'kava',\n        address: 'EA741AD0F8A3B579781243D15A79E99B51F3B60E',\n      }],\n    }];\n    it('should get correct data from the Tendermint RPC node', async () => {\n      const result = await Tendermint.getNodeState('127.0.0.1', 8888, 'bcl-kava', 'kava-testnet-2000', 2000, validatorSettings);\n      assert.equal(result.meta.id, '168d2769c783c314ccd909a80b3610653202135f');\n      assert.equal(result.block_height, 958446);\n      assert.equal(result.catching_up, false);\n      assert.deepEqual(result.validator_commits, [{\n        name: 'kava',\n        address: 'EA741AD0F8A3B579781243D15A79E99B51F3B60E',\n        commit: false,\n      }]);\n      assert.equal(result.block_time, 1565928376);\n      assert.equal(result.total_peers, 3);\n      assert.equal(result.inbound_peers, 3);\n      assert.equal(result.outbound_peers, 0);\n      assert.property(result, 'query_response_time_ms');\n    });\n  });\n});\n"]}