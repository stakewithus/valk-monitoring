{"version":3,"sources":["../../src/monit/health-check-counter.js"],"names":["healthCheckCounter","generateCounterId","nodeMeta","checkName","projectName","networkName","host","get","increase","counterId","reset"],"mappings":";;;;;AAAA,IAAMA,qBAAqB,EAA3B;;AAEA,IAAMC,oBAAoB,SAApBA,iBAAoB,CAACC,QAAD,EAAWC,SAAX;AAAA,SAA4BD,SAASE,WAArC,SAAoDF,SAASG,WAA7D,SAA4EH,SAASI,IAArF,SAA6FH,SAA7F;AAAA,CAA1B;AACA,IAAMI,MAAM,SAANA,GAAM,CACVL,QADU,EAEVC,SAFU;AAAA,SAGPH,mBAAmBC,kBAAkBC,QAAlB,EAA4BC,SAA5B,CAAnB,KAA8D,CAHvD;AAAA,CAAZ;;AAKA,IAAMK,WAAW,SAAXA,QAAW,CAACN,QAAD,EAAWC,SAAX,EAAyB;AACxC,MAAMM,YAAYR,kBAAkBC,QAAlB,EAA4BC,SAA5B,CAAlB;AACAH,qBAAmBS,SAAnB,IAAgCF,IAAIL,QAAJ,EAAcC,SAAd,IAA2B,CAA3D;AACD,CAHD;;AAKA,IAAMO,QAAQ,SAARA,KAAQ,CAACR,QAAD,EAAWC,SAAX,EAAyB;AACrCH,qBAAmBC,kBAAkBC,QAAlB,EAA4BC,SAA5B,CAAnB,IAA6D,CAA7D;AACD,CAFD;;kBAIe;AACbI,UADa;AAEbC,oBAFa;AAGbE;AAHa,C","file":"health-check-counter.js","sourcesContent":["const healthCheckCounter = {};\n\nconst generateCounterId = (nodeMeta, checkName) => `${nodeMeta.projectName}-${nodeMeta.networkName}-${nodeMeta.host}-${checkName}`;\nconst get = (\n  nodeMeta,\n  checkName,\n) => healthCheckCounter[generateCounterId(nodeMeta, checkName)] || 0;\n\nconst increase = (nodeMeta, checkName) => {\n  const counterId = generateCounterId(nodeMeta, checkName);\n  healthCheckCounter[counterId] = get(nodeMeta, checkName) + 1;\n};\n\nconst reset = (nodeMeta, checkName) => {\n  healthCheckCounter[generateCounterId(nodeMeta, checkName)] = 0;\n};\n\nexport default {\n  get,\n  increase,\n  reset,\n};\n"]}